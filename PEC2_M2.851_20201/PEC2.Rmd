---
title: "PEC2_M2.851_20201"
author: "Víctor Morant y Aitor Jara"
date: '`r format(Sys.Date(),"%e de %B, %Y")`'
output: 
  html_document:
    toc: yes
    number_sections: yes
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Descripción del dataset. ¿Por qué es importante y qué pregunta/problema pretende  responder? 

El conjunto de datos del "Titanic" nos parece de especial relevancia, ya que blablabla.... y a su vez pretendemos responder a la pregunta blablabla

# Integración y selección de los datos de interés a analizar. 

Cargamos el conjunto de datos y además modificamos el tipo de algunos de los campos para los cuales creemos que es relevante hacerlo

```{r load_data}
library(readr)

data <- read_csv("train.csv", col_types = cols(Embarked = col_factor(levels = c("S", 
    "Q", "C")), PassengerId = col_integer(), 
    Pclass = col_factor(levels = c("1", "2", 
        "3")), Sex = col_factor(levels = c("male", 
        "female")), Survived = col_factor(levels = c("0", 
        "1"))))

View(data)
```

Visualizamos un resumen de los cambios

```{r}
str(data)
summary(data)
```

# Limpieza de los datos. 
## ¿Los datos contienen ceros o elementos vacíos? ¿Cómo gestionarías cada uno  de estos casos? 

```{r}
data_na<-colSums(is.na(data))
print(data_na)
barplot(data_na)
```

Reemplazamos los valores NA de la edad por la media
```{r}
data1<-data
data1$Age[is.na(data1$Age)]<-median(data$Age,na.rm=TRUE)
```


Reemplazamos los NA Embarked

```{r}
library(dplyr)
df2<-data %>% filter(!is.na(Embarked))
```

## Identificación y tratamiento de valores extremos. 

```{r Graphic Anlysis Extreme Values}
par(mfrow=c(1,2))
boxplot(data$Age, main="Age")
hist(data$Age, main="Age")

par(mfrow=c(1,2))
boxplot(data$Fare, main="Fare")
hist(data$Fare, main="Fare")

par(mfrow=c(1,2))
boxplot(data$SibSp, main="SibSp")
hist(data$SibSp, main="SibSp")

par(mfrow=c(1,2))
boxplot(data$Parch, main="Parch")
hist(data$Parch, main="Parch")
```

```{r}
table(data$Sex)
table(data$Survived)
```

# Análisis de los datos. 
## Selección de los grupos de datos que se quieren analizar/comparar (planificación  de los análisis a aplicar). 

## Comprobación de la normalidad y homogeneidad de la varianza. 

## Aplicación de pruebas estadísticas para comparar los grupos de datos. En función  de los datos y el objetivo del estudio, aplicar pruebas de contraste de hipótesis,  correlaciones, regresiones, etc. Aplicar al menos tres métodos de análisis  diferentes. 

# Representación de los resultados a partir de tablas y gráficas. 

# Resolución del problema. A partir de los resultados obtenidos, ¿cuáles son las  conclusiones? ¿Los resultados permiten responder al problema?

# Código: Hay que adjuntar el código, preferiblemente en R, con el que se ha realizado la  limpieza, análisis y representación de los datos. Si lo preferís, también podéis trabajar en  Python.  

Analisis de correlación de valores númericos
```{r}
#corrplot(cor(data[,6:8]), method = 'number')

```